graph TB
    Start([ğŸ¬ ORCHESTRATOR START]) --> Plan{ğŸ“‹ Vyber Mini-Ãškol<br/>z Master Plan}
    
    Plan -->|Ãškol definovÃ¡n| CheckDeps{ğŸ” Dependencies<br/>Ready?}
    
    CheckDeps -->|NE| Queue[ğŸ“¦ Queue Task<br/>Pracuj na jinÃ©m]
    CheckDeps -->|ANO| Prep[ğŸ“š PÅ™iprav Kontext<br/>Max 14 souborÅ¯<br/>+ Standards]
    
    Queue --> Plan
    
    Prep --> SelectAgent{ğŸ¯ Vyber<br/>DevAgent}
    
    SelectAgent -->|Backend| Dev1[ğŸ¤– AGENT 1<br/>Backend Core]
    SelectAgent -->|AI| Dev2[ğŸ¤– AGENT 2<br/>AI Pipeline]
    SelectAgent -->|Realtime| Dev3[ğŸ¤– AGENT 3<br/>Realtime]
    SelectAgent -->|Billing| Dev4[ğŸ¤– AGENT 4<br/>Billing]
    SelectAgent -->|Frontend| Dev5[ğŸ¤– AGENT 5<br/>Frontend]
    SelectAgent -->|DevOps| Dev6[ğŸ¤– AGENT 6<br/>DevOps & QA]
    
    Dev1 --> DevStart[ğŸ’» DEV STARTS]
    Dev2 --> DevStart
    Dev3 --> DevStart
    Dev4 --> DevStart
    Dev5 --> DevStart
    Dev6 --> DevStart
    
    DevStart --> ReadFiles[ğŸ“– PÅ™eÄti vÅ¡echny<br/>poskytnutÃ© soubory]
    ReadFiles --> Implement[âš¡ Implementuj<br/>KOMPLETNÄš]
    
    Implement --> SelfCheck{ğŸ” Self-Check:<br/>Mock data?<br/>Dummy vars?<br/>TODO?}
    
    SelfCheck -->|NaÅ¡el problÃ©my| FixProblems[ğŸ”§ Oprav problÃ©my]
    FixProblems --> SelfCheck
    
    SelfCheck -->|VÅ¡e OK| WriteReadme[ğŸ“ ZapiÅ¡ do README.md:<br/>- Co bylo implementovÃ¡no<br/>- ProÄ tato implementace<br/>- ZmÄ›nÄ›nÃ© soubory<br/>- PÅ™idanÃ© zÃ¡vislosti]
    
    WriteReadme --> DevDone[âœ… DEV DONE]
    
    DevDone --> CheckStart[ğŸ” CHECKAGENT START]
    
    CheckStart --> C1{âŒ Mock<br/>Data?}
    C1 -->|ANO| FailPath[âŒ FAIL PATH]
    C1 -->|NE| C2{âŒ Dummy<br/>Variables?}
    
    C2 -->|ANO| FailPath
    C2 -->|NE| C3{âŒ TODO<br/>Comments?}
    
    C3 -->|ANO| FailPath
    C3 -->|NE| C4{âœ… KompletnÃ­<br/>Implementace?}
    
    C4 -->|NE| FailPath
    C4 -->|ANO| C5{âœ… Coding<br/>Standards?}
    
    C5 -->|NE| FailPath
    C5 -->|ANO| C6{âœ… Error<br/>Handling?}
    
    C6 -->|NE| FailPath
    C6 -->|ANO| C7{âœ… Type<br/>Safety?}
    
    C7 -->|NE| FailPath
    C7 -->|ANO| C8{âœ… Security<br/>Checks?}
    
    C8 -->|NE| FailPath
    C8 -->|ANO| C9{âœ… Performance<br/>OK?}
    
    C9 -->|NE| FailPath
    C9 -->|ANO| C10{âœ… Tests<br/>PASSujÃ­?}
    
    C10 -->|NE| FailPath
    C10 -->|ANO| PassPath[âœ… PASS PATH]
    
    FailPath --> WriteFail[ğŸ“ ZapiÅ¡ za ** <br/>- Status: FAIL<br/>- ProblÃ©my s Å™Ã¡dky<br/>- KonkrÃ©tnÃ­ fix nÃ¡vrhy]
    PassPath --> WritePass[ğŸ“ ZapiÅ¡ za ** <br/>- Status: PASS<br/>- VÅ¡echny checks OK<br/>- Production ready]
    
    WriteFail --> CheckDone[ğŸ CHECK DONE]
    WritePass --> CheckDone
    
    CheckDone --> OrchRead{ğŸ¤” ORCHESTRATOR<br/>ÄŒte README.md}
    
    OrchRead -->|PASS âœ…| Integrate[ğŸ‰ Integruj do Main<br/>1. Merge files<br/>2. Run tests<br/>3. Update docs<br/>4. Mark completed]
    
    OrchRead -->|FAIL âŒ| Analyze{ğŸ“Š Analyzuj<br/>Typ problÃ©mu}
    
    Analyze -->|ChybÃ­ kontext| MoreFiles[ğŸ“š PÅ™idej vÃ­ce souborÅ¯]
    Analyze -->|Å patnÃ¡ strategie| ChangeStrategy[ğŸ”„ ZmÄ›Åˆ pÅ™Ã­stup]
    Analyze -->|DrobnÃ© chyby| RerunDev[ğŸ” Re-run DevAgent<br/>s CheckAgent feedback]
    
    MoreFiles --> Prep
    ChangeStrategy --> Prep
    RerunDev --> DevStart
    
    Integrate --> UpdateState[ğŸ“ Update<br/>current-state.md<br/>completed-tasks.md]
    
    UpdateState --> NextTask{ğŸ¯ DalÅ¡Ã­<br/>Mini-Ãškol?}
    
    NextTask -->|ANO| Plan
    NextTask -->|NE - Project Done| Done([ğŸŠ PROJECT<br/>COMPLETED!])
    
    OrchRead -->|CLARIFY ğŸ¤·| GetMoreInfo[â“ VyÅ¾Ã¡dej vÃ­ce info<br/>od uÅ¾ivatele]
    GetMoreInfo --> Plan
    
    style Start fill:#4CAF50,stroke:#2E7D32,stroke-width:4px,color:#fff
    style Done fill:#4CAF50,stroke:#2E7D32,stroke-width:4px,color:#fff
    
    style PassPath fill:#4CAF50,stroke:#2E7D32,stroke-width:3px,color:#fff
    style FailPath fill:#f44336,stroke:#c62828,stroke-width:3px,color:#fff
    
    style WritePass fill:#81C784,stroke:#388E3C,stroke-width:2px,color:#000
    style WriteFail fill:#E57373,stroke:#D32F2F,stroke-width:2px,color:#fff
    
    style Dev1 fill:#2196F3,stroke:#1565C0,stroke-width:2px,color:#fff
    style Dev2 fill:#2196F3,stroke:#1565C0,stroke-width:2px,color:#fff
    style Dev3 fill:#2196F3,stroke:#1565C0,stroke-width:2px,color:#fff
    style Dev4 fill:#2196F3,stroke:#1565C0,stroke-width:2px,color:#fff
    style Dev5 fill:#2196F3,stroke:#1565C0,stroke-width:2px,color:#fff
    style Dev6 fill:#2196F3,stroke:#1565C0,stroke-width:2px,color:#fff
    
    style CheckStart fill:#FF9800,stroke:#E65100,stroke-width:2px,color:#fff
    style CheckDone fill:#FF9800,stroke:#E65100,stroke-width:2px,color:#fff
    
    style Integrate fill:#9C27B0,stroke:#6A1B9A,stroke-width:2px,color:#fff
    
    style Plan fill:#00BCD4,stroke:#006064,stroke-width:2px,color:#fff
    style OrchRead fill:#00BCD4,stroke:#006064,stroke-width:2px,color:#fff
